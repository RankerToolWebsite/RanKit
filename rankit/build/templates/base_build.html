<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="../favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/bootstrap.min.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/build.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/dragula.min.css') }}"/>
    <title>RANKit Build</title>

    <style>
    .inner1 {
        display: inline-block;
    }
    </style>

</head>

<body>
  <nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">

      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button> <a class="navbar-brand" href={{ url_for('home.index') }}>RANKIT</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li>
          <a href={{ url_for('build.listComparison', dataset_name= dataset_name) }} >Dataset</a>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown">Build<strong class="caret"></strong></a>
          <ul class="dropdown-menu">
            <li>
              <a href={{ url_for('build.categorical', dataset_name= dataset_name) }}>Categories Comparison</a>
            </li>
            <li class="divider">
            </li>
            <li>
              <a href={{ url_for('build.listComparison', dataset_name= dataset_name) }}>List Comparison</a>
            </li>
            <li class="divider">
            </li>
            <li>
              <a href={{ url_for('build.pairwise', dataset_name= dataset_name) }}>Pairwise Comparison</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#">Explore</a>
        </li>
      </ul>


    </div>

  </nav>

  <div class="page-header">
    <h1>
      RANKIT Build: {{ view_name }}
    </h1>
  </div>

  <div class="wrapper">

    <div class="inner1">
    <form class="navbar-form navbar-left" role="search" style="display: inline;">
      <div class="form-group">
        <!-- <input type="text" id="search-criteria" class="form-control" onkeyup="myFunction()" placeholder="Search for names.."> -->
        <input type="text" id="search-criteria" class="form-control" placeholder="Search for names..">
      </div>
      <button type="submit" class="btn btn-default" id="search" value="search">
        Submit
      </button>
      <button class="btn btn-default" id="sort" onclick="sort">
        Sort Alphabetically
      </button>
    </form>
  </div>

    <div class="scrollingDragInner">
      <div id="top" class="pool">
        <!-- objects from dataset inserted here -->
        {% for x in dataset %}
        <div id="{{x}}" class="object noSelect">{{x}}</div>
        {% endfor %}
      </div>
    </div>


  </div>

  {% block content %}
  {% endblock %}

  <div class="footer navbar-fixed-bottom"> Â© 2017 Worcester Polytechnic Institute All Rights Reserved. </div>

  <script>
    function getDataset() {
      return Array.from(document.querySelectorAll('.pool .object')).map(x => x.innerText)
    }
    
    function sort() {
      const dataset = getDataset()
      dataset.sort()

      const pool = document.querySelector('#top')
      const html = dataset.map(x => `<div id="${x}" class="object noSelect">${x}</div>`).join('\n')
      pool.innerHTML = html
    }

  // my own funcion from scratch

  // function myFunction() {
  //     var input, filter, div, divs, td;
  //     input = document.getElementById("search-criteria");
  //     filter = input.value.toUpperCase();
  //     div = document.getElementById("top");
  //     divs = div.getElementsByTagName("div");
  //
  //     for (i = 0; i < divs.length; i++) {
  //       td = div[i].getElementsByTagName("div")[0];
  //       if (td) {
  //         if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
  //           div[i].style.display = "";
  //         } else {
  //           div[i].style.display = "none";
  //         }
  //       }
  //     }
  //   }


  // jquery method

  // function hide_divs(search) {
  //     $("#top > div").hide(); // hide all divs
  // 	$('#top > div[id*="'+search+'"]').show(); // show the ones that match
  // }
  //
  // $(document).ready(function() {
  // 	$("#search-criteria").keyup(function() {
  // 		var search = $.trim(this.value);
  // 		hide_divs(search);
  // 	});
  // });

  </script>


  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
  <script type = "text/javascript" src = "{{ url_for('static', filename = 'js/jquery.sortable.min.js') }}" ></script>
  <script type = "text/javascript" src = "{{ url_for('static', filename = 'js/bootstrap.min.js') }}" ></script>
  <script type = "text/javascript" src="{{ url_for('static', filename = 'js/dragula.min.js') }}"></script>
  <script type = "text/javascript" src = "{{ url_for('static', filename = 'js/scripts.js') }}" ></script>
</body>
</html>
